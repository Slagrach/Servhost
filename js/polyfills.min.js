"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }

!function (e) {
  e.forEach(function (e) {
    e.hasOwnProperty("remove") || Object.defineProperty(e, "remove", {
      configurable: !0,
      enumerable: !0,
      writable: !0,
      value: function value() {
        this.parentNode.removeChild(this);
      }
    });
  });
}([Element.prototype, CharacterData.prototype, DocumentType.prototype]), function () {
  Element.prototype.closest || (Element.prototype.closest = function (e) {
    for (var t = this; t;) {
      if (t.matches(e)) return t;
      t = t.parentElement;
    }

    return null;
  });
}(), function () {
  Element.prototype.matches || (Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector);
}(), "undefined" != typeof window && window.NodeList && !NodeList.prototype.forEach && (NodeList.prototype.forEach = function (e, t) {
  t = t || window;

  for (var n = 0; n < this.length; n++) {
    e.call(t, this[n], n, this);
  }
}), Array.from || (Array.from = function () {
  var e;

  try {
    e = Symbol.iterator ? Symbol.iterator : "Symbol(Symbol.iterator)";
  } catch (t) {
    e = "Symbol(Symbol.iterator)";
  }

  var t = Object.prototype.toString,
      n = function n(e) {
    return "function" == typeof e || "[object Function]" === t.call(e);
  },
      r = function r(e) {
    var t = Number(e);
    return isNaN(t) ? 0 : 0 !== t && isFinite(t) ? (t > 0 ? 1 : -1) * Math.floor(Math.abs(t)) : t;
  },
      o = Math.pow(2, 53) - 1,
      i = function i(e) {
    var t = r(e);
    return Math.min(Math.max(t, 0), o);
  },
      s = function s(t, n) {
    var r = t && n[e]();
    return function (e) {
      return t ? r.next() : n[e];
    };
  },
      a = function a(e, t, n, r, o, i) {
    for (var s = 0; s < n || o;) {
      var a = r(s),
          l = o ? a.value : a;
      if (o && a.done) return t;
      t[s] = i ? void 0 === e ? i(l, s) : i.call(e, l, s) : l, s += 1;
    }

    if (o) throw new TypeError("Array.from: provided arrayLike or iterator has length more then 2 ** 52 - 1");
    return t.length = n, t;
  };

  return function (t) {
    var r = this,
        o = Object(t),
        l = n(o[e]);
    if (null == t && !l) throw new TypeError("Array.from requires an array-like object or iterator - not null or undefined");
    var u,
        c = arguments.length > 1 ? arguments[1] : void 0;

    if (void 0 !== c) {
      if (!n(c)) throw new TypeError("Array.from: when provided, the second argument must be a function");
      arguments.length > 2 && (u = arguments[2]);
    }

    var p = i(o.length),
        f = n(r) ? Object(new r(p)) : new Array(p);
    return a(u, f, p, s(l, o), l, c);
  };
}()), function () {
  "use strict";

  function e() {
    function e(e) {
      var t = ["MSIE ", "Trident/", "Edge/"];
      return new RegExp(t.join("|")).test(e);
    }

    function t(e, t) {
      this.scrollLeft = e, this.scrollTop = t;
    }

    function n(e) {
      return .5 * (1 - Math.cos(Math.PI * e));
    }

    function r(e) {
      if (null === e || "object" != _typeof(e) || void 0 === e.behavior || "auto" === e.behavior || "instant" === e.behavior) return !0;
      if ("object" == _typeof(e) && "smooth" === e.behavior) return !1;
      throw new TypeError("behavior member of ScrollOptions " + e.behavior + " is not a valid value for enumeration ScrollBehavior.");
    }

    function o(e, t) {
      return "Y" === t ? e.clientHeight + y < e.scrollHeight : "X" === t ? e.clientWidth + y < e.scrollWidth : void 0;
    }

    function i(e, t) {
      var n = c.getComputedStyle(e, null)["overflow" + t];
      return "auto" === n || "scroll" === n;
    }

    function s(e) {
      var t = o(e, "Y") && i(e, "Y"),
          n = o(e, "X") && i(e, "X");
      return t || n;
    }

    function a(e) {
      for (; e !== p.body && !1 === s(e);) {
        e = e.parentNode || e.host;
      }

      return e;
    }

    function l(e) {
      var t,
          r,
          o,
          i = m(),
          s = (i - e.startTime) / d;
      s = s > 1 ? 1 : s, t = n(s), r = e.startX + (e.x - e.startX) * t, o = e.startY + (e.y - e.startY) * t, e.method.call(e.scrollable, r, o), r === e.x && o === e.y || c.requestAnimationFrame(l.bind(c, e));
    }

    function u(e, n, r) {
      var o,
          i,
          s,
          a,
          u = m();
      e === p.body ? (o = c, i = c.scrollX || c.pageXOffset, s = c.scrollY || c.pageYOffset, a = h.scroll) : (o = e, i = e.scrollLeft, s = e.scrollTop, a = t), l({
        scrollable: o,
        method: a,
        startTime: u,
        startX: i,
        startY: s,
        x: n,
        y: r
      });
    }

    var c = window,
        p = document;

    if (!("scrollBehavior" in p.documentElement.style && !0 !== c.__forceSmoothScrollPolyfill__)) {
      var f = c.HTMLElement || c.Element,
          d = 468,
          h = {
        scroll: c.scroll || c.scrollTo,
        scrollBy: c.scrollBy,
        elementScroll: f.prototype.scroll || t,
        scrollIntoView: f.prototype.scrollIntoView
      },
          m = c.performance && c.performance.now ? c.performance.now.bind(c.performance) : Date.now,
          y = e(c.navigator.userAgent) ? 1 : 0;
      c.scroll = c.scrollTo = function () {
        if (void 0 !== arguments[0]) return !0 === r(arguments[0]) ? void h.scroll.call(c, void 0 !== arguments[0].left ? arguments[0].left : "object" != _typeof(arguments[0]) ? arguments[0] : c.scrollX || c.pageXOffset, void 0 !== arguments[0].top ? arguments[0].top : void 0 !== arguments[1] ? arguments[1] : c.scrollY || c.pageYOffset) : void u.call(c, p.body, void 0 !== arguments[0].left ? ~~arguments[0].left : c.scrollX || c.pageXOffset, void 0 !== arguments[0].top ? ~~arguments[0].top : c.scrollY || c.pageYOffset);
      }, c.scrollBy = function () {
        if (void 0 !== arguments[0]) return r(arguments[0]) ? void h.scrollBy.call(c, void 0 !== arguments[0].left ? arguments[0].left : "object" != _typeof(arguments[0]) ? arguments[0] : 0, void 0 !== arguments[0].top ? arguments[0].top : void 0 !== arguments[1] ? arguments[1] : 0) : void u.call(c, p.body, ~~arguments[0].left + (c.scrollX || c.pageXOffset), ~~arguments[0].top + (c.scrollY || c.pageYOffset));
      }, f.prototype.scroll = f.prototype.scrollTo = function () {
        if (void 0 !== arguments[0]) {
          if (!0 === r(arguments[0])) {
            if ("number" == typeof arguments[0] && void 0 === arguments[1]) throw new SyntaxError("Value could not be converted");
            return void h.elementScroll.call(this, void 0 !== arguments[0].left ? ~~arguments[0].left : "object" != _typeof(arguments[0]) ? ~~arguments[0] : this.scrollLeft, void 0 !== arguments[0].top ? ~~arguments[0].top : void 0 !== arguments[1] ? ~~arguments[1] : this.scrollTop);
          }

          var e = arguments[0].left,
              t = arguments[0].top;
          u.call(this, this, void 0 === e ? this.scrollLeft : ~~e, void 0 === t ? this.scrollTop : ~~t);
        }
      }, f.prototype.scrollBy = function () {
        if (void 0 !== arguments[0]) return !0 === r(arguments[0]) ? void h.elementScroll.call(this, void 0 !== arguments[0].left ? ~~arguments[0].left + this.scrollLeft : ~~arguments[0] + this.scrollLeft, void 0 !== arguments[0].top ? ~~arguments[0].top + this.scrollTop : ~~arguments[1] + this.scrollTop) : void this.scroll({
          left: ~~arguments[0].left + this.scrollLeft,
          top: ~~arguments[0].top + this.scrollTop,
          behavior: arguments[0].behavior
        });
      }, f.prototype.scrollIntoView = function () {
        if (!0 === r(arguments[0])) return void h.scrollIntoView.call(this, void 0 === arguments[0] || arguments[0]);
        var e = a(this),
            t = e.getBoundingClientRect(),
            n = this.getBoundingClientRect();
        e !== p.body ? (u.call(this, e, e.scrollLeft + n.left - t.left, e.scrollTop + n.top - t.top), "fixed" !== c.getComputedStyle(e).position && c.scrollBy({
          left: t.left,
          top: t.top,
          behavior: "smooth"
        })) : c.scrollBy({
          left: n.left,
          top: n.top,
          behavior: "smooth"
        });
      };
    }
  }

  "object" == (typeof exports === "undefined" ? "undefined" : _typeof(exports)) && "undefined" != typeof module ? module.exports = {
    polyfill: e
  } : e();
}();
var Ya = Ya || {};
Ya.i18n = function (e) {
  return this[e];
}, Ya.i18n.prototype = {
  en: {
    "browser.amigo": "Amigo",
    "browser.camino": "Camino",
    "browser.chrome": "Google Chrome",
    "browser.chromium": "Chromium",
    "browser.flock": "Flock",
    "browser.fx": "Firefox",
    "browser.ie": "Internet Explorer",
    "browser.iron": "Iron",
    "browser.maxthon": "Maxthon",
    "browser.opera": "Opera",
    "browser.palemoon": "Pale Moon",
    "browser.safari": "Safari",
    "browser.seamonkey": "SeaMonkey",
    "browser.yabrowser": "Yandex Browser",
    "button.download": "Download another browser",
    "button.update": "Update",
    "button.whattodo": "What do I do?",
    desc: "Your browser has not been updated in several years. During this time, many sites have started to use new technologies that this browser does not support, and as such cannot correctly display this page. To fix this, please install a new browser.",
    "desc.ie": "Microsoft is about to stop supporting or has already stopped supporting your browser, and will not update it anymore. Using this browser could result in errors when viewing websites and poor functionality. We recommend finding a replacement.",
    subtitle: "Please update it or install %%.",
    "subtitle.ie": "We recommend installing Internet Explorer 11 or %%.",
    "subtitle.ie.link.txt": "select a different application for browsing the internet",
    "subtitle.link.href": "https://yandex.ru/soft/browsers/",
    "subtitle.link.txt": "a new one",
    title: "Your browser %% is out of date and does not provide you with a complete site experience, or keep you safe while browsing",
    "title.general": "Your browser is out of date",
    "title.general.ie": "Your browser is obsolete and will not be updated any more",
    "title.unknown": "It's possible your browser is out of date and will not provide you with a full site experience, or keep you safe while browsing",
    ver: "1.3.2"
  },
  ru: {
    "browser.amigo": "Amigo",
    "browser.camino": "Camino",
    "browser.chrome": "Google Chrome",
    "browser.chromium": "Chromium",
    "browser.flock": "Flock",
    "browser.fx": "Firefox",
    "browser.ie": "Internet Explorer",
    "browser.iron": "Iron",
    "browser.maxthon": "Maxthon",
    "browser.opera": "Opera",
    "browser.palemoon": "Pale Moon",
    "browser.safari": "Safari",
    "browser.seamonkey": "SeaMonkey",
    "browser.yabrowser": "Yandex Browser",
    "button.download": "Скачать другой браузер",
    "button.update": "Обновить",
    "button.whattodo": "Что делать?",
    desc: "Ваш браузер не обновлялся уже несколько лет. За это время некоторые сайты стали использовать новые технологии, которые  он не поддерживает и не может корректно отобразить страницу. Чтобы это исправить, попробуйте установить новый браузер.",
    "desc.ie": "Браузер, которым вы пользуетесь, уже не поддерживается или скоро лишится поддержки Microsoft, поэтому больше не будет обновляться. Это значит, что открытые в нём сайты могут отображаться с ошибками. Рекомендуем вам найти замену.",
    subtitle: "Пожалуйста, обновите его или установите %%.",
    "subtitle.ie": "Рекомендуем вам установить Internet Explorer 11 или %%.",
    "subtitle.ie.link.txt": "выбрать другую программу для просмотра страниц в интернете",
    "subtitle.link.href": "https://yandex.ru/soft/browsers/",
    "subtitle.link.txt": "новый",
    title: "Ваш браузер %% устарел <br class='ya-update__br'> и не обеспечивает полноценную и безопасную работу с сайтом",
    "title.general": "Ваш браузер устарел",
    "title.general.ie": "Ваш браузер устарел и больше не будет обновляться",
    "title.unknown": "Возможно, ваш браузер устарел и не обеспечивает полноценную и безопасную работу с сайтом",
    ver: "1.3.2"
  },
  tr: {
    "browser.amigo": "Amigo",
    "browser.camino": "Camino",
    "browser.chrome": "Google Chrome",
    "browser.chromium": "Chromium",
    "browser.flock": "Flock",
    "browser.fx": "Firefox",
    "browser.ie": "Internet Explorer",
    "browser.iron": "Iron",
    "browser.maxthon": "Maxthon",
    "browser.opera": "Opera",
    "browser.palemoon": "Pale Moon",
    "browser.safari": "Safari",
    "browser.seamonkey": "SeaMonkey",
    "browser.yabrowser": "Yandex Browser",
    "button.download": "Başka bir tarayıcı indir",
    "button.update": "Güncelle",
    "button.whattodo": "Ne yapayım?",
    desc: "Tarayıcınız en son güncellendiğinden beri birkaç yıl geçti. Bu süre içinde bazı sitelerde tarayıcınızın artık desteklemediği yeni teknolojiler uygulanıyor. Tarayıcınız böyle siteleri doğru görüntülemeyebilir. Bu hatayı düzeltmek için yeni tarayıcıyı yükleyip kurun.",
    "desc.ie": "Kullandığınız tarayıcı Microsoft tarafından artık desteklenmemekte veya bunun desteği önümüzdeki günlerde sonlandırılarak bir daha güncellenmeyecektir. Dolayısıyla web siteleri bu tarayıcıyla hatalı görüntülenebilir. Lütfen başka bir tarayıcı kullanın.",
    subtitle: "Lütfen tarayıcınızı güncelleyin veya %% yükleyin.",
    "subtitle.ie": "Internet Explorer 11 veya %% kurmanızı öneririz.",
    "subtitle.ie.link.txt": "Web sayfalarının görüntülenmesi için başka bir program seç",
    "subtitle.link.href": "",
    "subtitle.link.txt": "yeni",
    title: "Kullandığınız tarayıcı (%%) güncel değil. Bu tarayıcıyı kullanarak bu siteyle güvenli ve hatasız çalışamayabilirsiniz",
    "title.general": "Tarayıcınız çok eski",
    "title.general.ie": "Kullandığınız tarayıcı çok eski ve artık güncellenmez",
    "title.unknown": "Tarayıcınız çok eski olabilir. Bu durumda siteyle güvenli ve hatasız çalışmanız mümkün olmayabilir.",
    ver: "1.3.2"
  },
  uk: {
    "browser.amigo": "Amigo",
    "browser.camino": "Camino",
    "browser.chrome": "Google Chrome",
    "browser.chromium": "Chromium",
    "browser.flock": "Flock",
    "browser.fx": "Firefox",
    "browser.ie": "Internet Explorer",
    "browser.iron": "Iron",
    "browser.maxthon": "Maxthon",
    "browser.opera": "Opera",
    "browser.palemoon": "Pale Moon",
    "browser.safari": "Safari",
    "browser.seamonkey": "SeaMonkey",
    "browser.yabrowser": "Yandex Browser",
    "button.download": "Завантажити інший браузер",
    "button.update": "Оновити",
    "button.whattodo": "Що робити?",
    desc: "Ваш браузер не оновлювався вже кілька років. За цей час деякі сайти почали використовувати нові технології, які він не підтримує і не може коректно відобразити сторінку. Щоб це виправити, спробуйте встановити новий браузер.",
    "desc.ie": "Браузер, яким ви користуєтесь, уже не підтримується або скоро позбудеться підтримки Microsoft, тому більше не оновлюватиметься. Це означає, що відкриті в ньому сайти можуть відображатися з помилками. Рекомендуємо вам знайти заміну.",
    subtitle: "Будь ласка, оновіть його або встановіть %%.",
    "subtitle.ie": "Рекомендуємо вам встановити Internet Explorer 11 або %%.",
    "subtitle.ie.link.txt": "вибрати іншу програму для перегляду сторінок в інтернеті",
    "subtitle.link.href": "https://yandex.ua/soft/browsers/",
    "subtitle.link.txt": "новий",
    title: "Ваш браузер %% застарів і не забезпечує повноцінну та безпечну роботу із сайтом",
    "title.general": "Ваш браузер застарів",
    "title.general.ie": "Ваш браузер застарів і більше не оновлюватиметься",
    "title.unknown": "Можливо, ваш браузер застарів і не забезпечує повноцінну та безпечну роботу із сайтом",
    ver: "1.3.2"
  }
};
var Ya = window.Ya || {};
Ya.stripe = function () {}, Ya.stripe.prototype = {}, window.JSON || (window.JSON = {
  parse: function parse(sJSON) {
    return eval("(" + sJSON + ")");
  },
  stringify: function () {
    var e = Object.prototype.toString,
        t = Array.isArray || function (t) {
      return "[object Array]" === e.call(t);
    },
        n = {
      '"': '\\"',
      "\\": "\\\\",
      "\b": "\\b",
      "\f": "\\f",
      "\n": "\\n",
      "\r": "\\r",
      "\t": "\\t"
    },
        r = function r(e) {
      return n[e] || "\\u" + (e.charCodeAt(0) + 65536).toString(16).substr(1);
    },
        o = /[\\"\u0000-\u001F\u2028\u2029]/g;

    return function n(i) {
      if (null == i) return "null";
      if ("number" == typeof i) return isFinite(i) ? i.toString() : "null";
      if ("boolean" == typeof i) return i.toString();

      if ("object" == _typeof(i)) {
        if ("function" == typeof i.toJSON) return n(i.toJSON());

        if (t(i)) {
          for (var s = "[", a = 0; a < i.length; a++) {
            s += (a ? ", " : "") + n(i[a]);
          }

          return s + "]";
        }

        if ("[object Object]" === e.call(i)) {
          var l = [];

          for (var u in i) {
            i.hasOwnProperty(u) && l.push(n(u) + ": " + n(i[u]));
          }

          return "{" + l.join(", ") + "}";
        }
      }

      return '"' + i.toString().replace(o, r) + '"';
    };
  }()
}), Function.prototype.bind || (Function.prototype.bind = function (e) {
  if ("function" != typeof this) throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");

  var t = Array.prototype.slice.call(arguments, 1),
      n = this,
      r = function r() {},
      o = function o() {
    return n.apply(this instanceof r ? this : e, t.concat(Array.prototype.slice.call(arguments)));
  };

  return r.prototype = this.prototype, o.prototype = new r(), o;
}), Object.keys || (Object.keys = function () {
  "use strict";

  var e = Object.prototype.hasOwnProperty,
      t = !{
    toString: null
  }.propertyIsEnumerable("toString"),
      n = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"],
      r = n.length;
  return function (o) {
    if ("object" != _typeof(o) && ("function" != typeof o || null === o)) throw new TypeError("Object.keys called on non-object");
    var i,
        s,
        a = [];

    for (i in o) {
      e.call(o, i) && a.push(i);
    }

    if (t) for (s = 0; s < r; s++) {
      e.call(o, n[s]) && a.push(n[s]);
    }
    return a;
  };
}()), Ya.stripe.utils = function () {}, Ya.stripe.utils.prototype = {}, Ya.stripe.utils.prototype.extend = function (e) {
  for (var t = 1; t < arguments.length; t++) {
    var n = arguments[t];

    for (var r in n) {
      n.hasOwnProperty(r) && (e[r] = n[r]);
    }
  }

  return e;
}, Ya.stripe.utils.prototype.isFunction = function (e) {
  var t = {};
  return e && "[object Function]" === t.toString.call(e);
}, Ya.stripe.utils.prototype.isString = function (e) {
  return "string" == typeof e || e instanceof String;
}, Ya.stripe.utils.prototype.validateCallback = function (e) {
  return this.isFunction(e) ? e : !(!this.isString(e) || !this.isFunction(window[e])) && window[e];
}, Ya.stripe.utils.prototype.cookieApi = function () {
  function e(n, r, o) {
    var i;

    if (arguments.length > 1) {
      if (o = t.extend({
        path: "/"
      }, e.defaults, o), "number" == typeof o.expires) {
        var s = new Date();
        s.setMilliseconds(s.getMilliseconds() + 864e5 * o.expires), o.expires = s;
      }

      try {
        i = JSON.stringify(r), /^[\{\[]/.test(i) && (r = i);
      } catch (e) {}

      return r = encodeURIComponent(String(r)), r = r.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), n = encodeURIComponent(String(n)), n = n.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent), n = n.replace(/[\(\)]/g, escape), document.cookie = [n, "=", r, o.expires && "; expires=" + o.expires.toUTCString(), o.path && "; path=" + o.path, o.domain && "; domain=" + o.domain, o.secure ? "; secure" : ""].join("");
    }

    n || (i = {});

    for (var a = document.cookie ? document.cookie.split("; ") : [], l = /(%[0-9A-Z]{2})+/g, u = 0; u < a.length; u++) {
      var c = a[u].split("="),
          p = c[0].replace(l, decodeURIComponent),
          f = c.slice(1).join("=");
      '"' === f.charAt(0) && (f = f.slice(1, -1));

      try {
        if (f = f.replace(l, decodeURIComponent), this.json) try {
          f = JSON.parse(f);
        } catch (e) {}

        if (n === p) {
          i = f;
          break;
        }

        n || (i[p] = f);
      } catch (e) {}
    }

    return i;
  }

  var t = this;
  return e.get = e.set = e, e.getJSON = function () {
    return e.apply({
      json: !0
    }, [].slice.call(arguments));
  }, e.defaults = {}, e.remove = function (n, r) {
    e(n, "", t.extend(r, {
      expires: -1
    }));
  }, e;
}, Ya.stripe.utils.prototype.cookie = Ya.stripe.utils.prototype.cookieApi(), Ya.stripe.utils.prototype.onDOMContentLoaded = function (e, t) {
  function n() {
    if (!s) {
      if (!t.body) return setTimeout(n, 13);

      if (s = !0, l) {
        for (var e, r = 0; e = l[r++];) {
          e.call(null);
        }

        l = null;
      }
    }
  }

  function r() {
    if (!a) {
      if (a = !0, "complete" === t.readyState) return n();
      if (t.addEventListener) t.addEventListener("DOMContentLoaded", _i2, !1), e.addEventListener("load", n, !1);else if (t.attachEvent) {
        t.attachEvent("onreadystatechange", _i2);

        try {
          e.attachEvent("onload", n);
        } catch (e) {}

        var r = !1;

        try {
          r = null == e.frameElement;
        } catch (e) {}

        try {
          docElem && docElem.doScroll && r && o();
        } catch (e) {}
      }
    }
  }

  function o() {
    if (!s) {
      try {
        docElem.doScroll("left");
      } catch (e) {
        return void setTimeout(o, 1);
      }

      n();
    }
  }

  var _i2,
      s = !1,
      a = !1,
      l = [];

  return t.addEventListener ? _i2 = function i() {
    t.removeEventListener("DOMContentLoaded", _i2, !1), n();
  } : t.attachEvent && (_i2 = function _i() {
    "complete" === t.readyState && (t.detachEvent("onreadystatechange", _i2), n());
  }), function (e) {
    r(), s ? e.call(null) : l.push(e);
  };
}(window, document), Ya.stripe.utils.prototype.DomElem = function (e, t) {
  t = t || {};
  var n = document.createElement(e),
      r = t.css,
      o = t.attrs;
  o && Ya.stripe.utils.prototype.extend(n, o), this.domElem = n, r && (this.domElem.className = this._className(r.className), this.css = this._buildCss(r));
}, Ya.stripe.utils.prototype.DomElem.prototype = {
  _className: function _className(e) {
    var t = e;
    return e instanceof Array && (t = e.join(" ")), t;
  },
  _buildCss: function _buildCss(e) {
    var t,
        n = (e.className, e.props);

    for (var r in n) {
      n.hasOwnProperty(r) && (t = this._toLowerCamelCase(r), this.domElem.style[t] = n[r]);
    }
  },
  _toLowerCamelCase: function _toLowerCamelCase(e) {
    e = e.split("-");
    var t = e[0];
    e.shift();

    for (var n in e) {
      e.hasOwnProperty(n) && (t += e[n].charAt(0).toUpperCase() + e[n].substr(1));
    }

    return t;
  },
  _removeEvent: function _removeEvent() {
    return document.removeEventListener ? function (e, t, n) {
      e.removeEventListener(t, n, !1);
    } : function (e, t, n) {
      e.detachEvent("on" + t, n);
    };
  },
  _addEvent: function _addEvent() {
    return document.addEventListener ? function (e, t, n) {
      e.addEventListener(t, n, !1);
    } : function (e, t, n) {
      e.attachEvent("on" + t, n);
    };
  },
  getStyle: function getStyle(e, t) {
    var n = "";
    return document.defaultView && document.defaultView.getComputedStyle ? n = document.defaultView.getComputedStyle(e, "").getPropertyValue(t) : e.currentStyle && (t = t.replace(/\-(\w)/g, function (e, t) {
      return t.toUpperCase();
    }), n = e.currentStyle[t]), n;
  },
  on: function on(e, t) {
    var n = this;
    return this._addEvent()(n.domElem, e, t), this;
  },
  append: function append(e) {
    return this.domElem.appendChild(e.domElem), this;
  }
}, Ya.stripe.utils.prototype.jsonp = function (e, t, n) {
  var r = "jsonp65397e1a32a9406289f95f602d15882c",
      o = function o(e) {
    delete window[r], document.body.removeChild(s), n(e);
  };

  window[r] = o, t.jsonp = r, e += "?";

  for (var i in t) {
    t.hasOwnProperty(i) && (e = e + i + "=" + t[i] + "&");
  }

  var s = document.createElement("script");
  s.src = e, document.body.appendChild(s);
}, Ya.stripe.init = function (e) {
  this.init(e);
}, Ya.stripe.init.prototype = {
  options: {
    theme: "yellow",
    lang: "ru",
    browsers: {
      chromium: 34,
      iron: 34,
      flock: "Infinity",
      palemoon: 24,
      camino: "Infinity",
      safari: 5.1,
      yandexinternet: "Infinity",
      fx: 30,
      ie: 8,
      yabrowser: 14.12,
      opera: 15,
      chrome: 34,
      maxthon: 4.3,
      seamonkey: 2.3
    },
    remember: !0,
    rememberFor: 30,
    cookiePrefix: "yaBrowserUpdater",
    classNamePrefix: "ya-browser-updater",
    jsonpCallback: "yaBrowserUpdaterJSONPCallback",
    onStripeShow: null,
    onStripeHide: null,
    exclusive: !1,
    generic: !1,
    useLink: !0,
    hybrid: !1,
    metrikaId: null,
    colors: {},
    linkParams: null,
    domain: null,
    yaBroDomain: "ru"
  },
  themes: {
    stripe: {
      yellow: {
        bg: "#ffdc3a",
        txt: "#000",
        button: "#f1ce2e",
        close: "#efce36"
      },
      red: {
        bg: "#f00",
        txt: "#fff",
        button: "#e10202",
        close: "#e63232"
      },
      blue: {
        bg: "#7dcef9",
        txt: "#fff",
        button: "#67b5e0",
        close: "#5bb9ef"
      },
      green: {
        bg: "#84cd78",
        txt: "#fff",
        button: "#7dbe72",
        close: "#81c176"
      },
      white: {
        bg: "#fff",
        txt: "#000",
        button: "#f0f0f0",
        close: "#f9f7f7"
      },
      black: {
        bg: "#000",
        txt: "#fff",
        button: "#333",
        close: "#404040"
      },
      grey: {
        bg: "#cbcbcb",
        txt: "#000",
        button: "#cbcbcb",
        close: "#bfbbbb"
      }
    },
    generic: {
      bg: "#333",
      link: "#0398d7",
      txt: "#a6a4a4",
      title: "#fff",
      subtitle: "#fff",
      close: "#666"
    }
  },
  colors: {},
  bundleUrl: "/stripe/",
  popups: {
    choice: "/choice/",
    exclusive: "/exclusive/"
  },
  uaHost: "https://browser-updater.yandex.net",
  i18n: null,
  utils: new Ya.stripe.utils(),
  type: null,
  subtype: "default",
  browser: null,
  browserVersion: null,
  isCheckUa: !0,
  isPopupShown: !1,
  domElems: {},
  style: "",
  bodyPadding: "",
  metrikaIds: {
    stripe: "32024286",
    generic: "32039916",
    exclusive: "32024286"
  },
  init: function init(e) {
    e = e || {};
    var t = e.env,
        n = (e.version, {
      testing: "https://yastatic.net/s3/distribution/soft/browser-updater-react/v" + e.version,
      dev: "https://localhost.msup.yandex.ru"
    }[t] || "https://yastatic.net/browser-updater"),
        r = {
      ru: "ru",
      by: "by",
      com: "com",
      "com.tr": "com.tr",
      kz: "kz",
      ua: "ua",
      net: "net"
    };
    return this.bundleUrl = n + this.bundleUrl, this.popups.choice = n + this.popups.choice, this.popups.exclusive = n + this.popups.exclusive, this.partnerId = e.partnerId, this.yaBroDomain = r[e.yaBroDomain] || this.options.yaBroDomain, this.utils.extend(this.options, e), this.cookieHideCheck().checkUA(), this;
  },
  cookieHideCheck: function cookieHideCheck() {
    if (this.options.remember) {
      var e = this.utils.cookie(this.options.cookiePrefix + "Hide");
      this.isCheckUa = "true" !== e;
    }

    return this;
  },
  cookieHideSet: function cookieHideSet() {
    this.options.remember && this.utils.cookie(this.options.cookiePrefix + "Hide", "true", {
      expires: this.options.rememberFor,
      domain: this.options.domain,
      path: "/"
    });
  },
  checkUA: function checkUA() {
    if (!this.isCheckUa) return this;
    var e = this,
        t = document.createElement("script"),
        n = e.uaHost + "?browserUpdate=" + encodeURIComponent(JSON.stringify(e.options.browsers)) + "&jsonp=" + this.options.jsonpCallback;
    return window[e.options.jsonpCallback] = e.process.bind(e), t.src = n, document.body.appendChild(t), this;
  },
  getColors: function getColors() {
    var e = "generic" === this.type ? this.themes.generic : this.themes.stripe[this.options.theme];
    return this.colors = "object" == _typeof(this.options.colors) ? this.utils.extend(e, this.options.colors) : e, this;
  },
  getLinkParams: function getLinkParams() {
    var e = "object" == _typeof(this.options.linkParams) && null !== this.options.linkParams && this.options.linkParams;
    return e ? "linkParams=" + encodeURIComponent(JSON.stringify(e)) : "";
  },
  process: function process(e) {
    if (window[this.options.jsonpCallback] = void 0, this.browser = e.browser, this.browserVersion = e.version, this.exclusiveBrowser = this.options.exclusive && ("string" == typeof this.options.browsers && this.options.browsers || "object" == _typeof(this.options.browsers) && Object.keys(this.options.browsers)[0]), this.needUpdate = e.needUpdate || this.options.exclusive && this.browser != this.exclusiveBrowser, !this.needUpdate || this.browser && "amigo" === this.browser.toLowerCase()) return !1;
    if (this.options.exclusive) this.type = "exclusive";else if (this.options.generic) this.type = "generic", this.subtype = "ie" === this.browser ? "ie" : this.subtype;else switch (this.type = "stripe", this.browser) {
      case "chromium":
      case "iron":
        this.subtype = "chromium";
        break;

      case "flock":
      case "palemoon":
      case "camino":
      case "safari":
        this.subtype = "old";
        break;

      case "yabrowser":
      case "fx":
      case "ie":
      case "opera":
      case "chrome":
      case "maxthon":
      case "seamonkey":
        this.subtype = "outdated";
        break;

      default:
        this.subtype = "unknown";
    }
    this.i18n = new Ya.i18n(this.options.lang), this.getColors().build();
  },
  buildElem: function buildElem() {
    var e = this,
        t = function t() {
      var t = e.options.classNamePrefix,
          n = Array.prototype.slice.call(arguments);
      return n.unshift(t), n.join("__");
    },
        n = {
      stripe: {
        close: function close() {
          return new e.utils.DomElem("div", {
            css: {
              className: t("stripe", "close"),
              props: {
                cursor: "pointer",
                "float": "right",
                height: "30px",
                width: "16px",
                "vertical-align": "middle",
                position: "absolute",
                top: "0",
                right: "52px",
                "font-size": "30px",
                "line-height": "32px",
                color: e.colors.close
              }
            },
            attrs: {
              innerHTML: "&times;"
            }
          }).on("click", function () {
            e.removestripe.bind(e)(), e.cookieHideSet.bind(e)(), e.reachGoal.bind(e, "clck_stripe_close")();
          });
        },
        txt: function txt() {
          return new e.utils.DomElem("span", {
            attrs: {
              innerHTML: "unknown" === e.subtype ? e.i18n["title.unknown"] : e.i18n.title.replace("%%", e.i18n["browser." + e.browser] + " " + e.browserVersion)
            },
            css: {
              className: t("stripe", "txt"),
              props: {
                color: e.colors.txt,
                "white-space": "nowrap"
              }
            }
          });
        },
        button: function button() {
          var n = {
            chromium: {
              txt: e.i18n["button.download"],
              goal: "clck_stripe_dnld"
            },
            old: {
              txt: e.i18n["button.download"],
              goal: "clck_stripe_dnld"
            },
            outdated: {
              txt: e.i18n["button.update"],
              goal: "clck_stripe_upd"
            },
            unknown: {
              txt: e.i18n["button.download"],
              goal: "clck_stripe_dnld"
            }
          }[e.subtype];
          return new e.utils.DomElem("div", {
            css: {
              className: t("stripe", "button"),
              props: {
                display: "inline-block",
                padding: "0 15px",
                margin: "0 78px 0 0",
                cursor: "pointer",
                background: e.colors.button,
                color: e.colors.txt
              }
            },
            attrs: {
              innerHTML: n.txt
            }
          }).on("click", function () {
            e.popupShow.bind(e)(), e.reachGoal.bind(e, n.goal)();
          });
        },
        buttonWrap: function buttonWrap() {
          var n = new e.utils.DomElem("div", {
            css: {
              className: t("stripe", "button-wrap"),
              props: {
                position: "absolute",
                top: 0,
                right: 0,
                background: e.colors.bg
              }
            }
          });
          return n.append(this.button()).append(this.close()), n;
        }
      },
      generic: {
        close: function close() {
          return new e.utils.DomElem("div", {
            css: {
              className: t("stripe", "close"),
              props: {
                cursor: "pointer",
                "float": "right",
                height: "30px",
                width: "16px",
                "vertical-align": "middle",
                "font-size": "30px",
                "line-height": "32px",
                position: "absolute",
                top: "5px",
                right: "10px",
                color: e.colors.close
              }
            },
            attrs: {
              innerHTML: "&times;"
            }
          }).on("click", function () {
            e.removestripe.bind(e)(), e.cookieHideSet.bind(e)(), e.reachGoal.bind(e, "clck_stripe_close")();
          });
        },
        title: function title() {
          return new e.utils.DomElem("h1", {
            attrs: {
              innerHTML: e.i18n["title.general." + e.subtype] || e.i18n["title.general"]
            },
            css: {
              className: t("stripe", "title"),
              props: {
                margin: 0,
                padding: 0,
                "font-size": "33px",
                "font-weight": "normal",
                color: e.colors.title
              }
            }
          });
        },
        subtitle: function subtitle() {
          var n = (e.i18n["subtitle." + e.subtype] || e.i18n.subtitle).split("%%"),
              r = new e.utils.DomElem("h2", {
            css: {
              className: t("stripe", "subtitle"),
              props: {
                margin: "18px 0 0px",
                padding: 0,
                "font-size": "20px",
                "font-weight": "normal",
                color: e.colors.subtitle
              }
            }
          });
          return r.domElem.appendChild(document.createTextNode(n[0])), e.options.useLink && (e.i18n["subtitle." + e.subtype + ".link.href"] || e.i18n["subtitle.link.href"]) ? r.append(this.link()) : r.domElem.appendChild(document.createTextNode(e.i18n["subtitle." + e.subtype + ".link.txt"] || e.i18n["subtitle.link.txt"])), r.domElem.appendChild(document.createTextNode(n[1])), r;
        },
        link: function link() {
          return new e.utils.DomElem("a", {
            attrs: {
              href: e.i18n["subtitle." + e.subtype + ".link.href"] || e.i18n["subtitle.link.href"],
              target: "_blank",
              innerHTML: e.i18n["subtitle." + e.subtype + ".link.txt"] || e.i18n["subtitle.link.txt"]
            },
            css: {
              className: t("stripe", "subtitle", "link"),
              props: {
                color: e.colors.link,
                "text-decoration": "none"
              }
            }
          }).on("click", function (t) {
            if (e.reachGoal.bind(e, "clck_new")(), e.options.hybrid) return t.preventDefault(), e.popupShow.bind(e)(), !1;
          });
        },
        desc: function desc() {
          var n = new e.utils.DomElem("div", {
            attrs: {
              innerHTML: e.i18n["desc." + e.subtype] || e.i18n.desc
            },
            css: {
              className: t("stripe", "desc"),
              props: {
                margin: "15px 0 0",
                padding: 0,
                "font-size": "13px",
                "line-height": "22px",
                color: e.colors.txt
              }
            }
          });
          return e.style += n.css, n;
        }
      },
      popup: {
        paranja: function paranja() {
          return new e.utils.DomElem("div", {
            css: {
              className: t("popup", "paranja"),
              props: {
                position: "fixed",
                "z-index": 32e3,
                top: 0,
                left: 0,
                width: "100%",
                height: "100%",
                padding: 0,
                "-webkit-user-select": "none",
                "-moz-user-select": "none",
                "-ms-user-select": "none",
                "user-select": "none",
                opacity: ".3",
                border: "0",
                background: "#000",
                "-ms-filter": "progid:DXImageTransform.Microsoft.Alpha(Opacity=33)",
                filter: "alpha(opacity=33)"
              }
            }
          }).on("click", function () {
            e.popupRemove.bind(e)(), e.reachGoal.bind(e, "clck_popup_close")();
          });
        },
        close: function close() {
          return new e.utils.DomElem("div", {
            css: {
              className: t("popup", "close"),
              props: {
                position: "absolute",
                top: "5px",
                right: "5px",
                width: "16px",
                height: "30px",
                padding: "0 10px 0 0",
                cursor: "pointer",
                background: "url(" + e.bundleUrl + "img/popup__close.png) 0 100% no-repeat"
              }
            }
          }).on("click", function () {
            e.popupRemove.bind(e)(), e.reachGoal.bind(e, "clck_popup_close")();
          });
        },
        iframe: function iframe() {
          var n = {
            ru: {
              chromium: "370px",
              old: "370px",
              outdated: "330px",
              unknown: "300px"
            },
            tr: {
              chromium: "370px",
              outdated: "ie" === e.browser ? "330px" : "300px",
              old: "340px",
              unknown: "300px"
            },
            uk: {
              chromium: "330px",
              outdated: "ie" === e.browser ? "350px" : "330px",
              old: "370px",
              unknown: "300px"
            },
            en: {
              chromium: "370px",
              outdated: "ie" === e.browser ? "330px" : "300px",
              old: "340px",
              unknown: "300px"
            }
          },
              r = e.options.metrikaId || (e.options.hybrid ? e.metrikaIds.generic : e.metrikaIds.stripe),
              o = e.options.hybrid ? "outdated" : e.subtype,
              i = e.options.hybrid ? "generic" : e.options.theme,
              s = e.getLinkParams(),
              a = e.popups.choice + o + "." + e.options.lang + ".html?metrikaId=" + r + "&theme=" + i + "&_ver=" + e.i18n.ver + (e.partnerId ? "&partner_id=" + e.partnerId + "&yabro_domain=" + e.yaBroDomain : "") + "&v=" + e.options.v || String(s && "&" + s),
              l = new e.utils.DomElem("iframe", {
            attrs: {
              name: t("popup", "iframe"),
              src: a,
              scrolling: "no"
            },
            css: {
              className: t("popup", "iframe"),
              props: {
                width: "100%",
                border: 0,
                overflow: "hidden",
                height: n[e.options.lang][o]
              }
            }
          });
          return l.domElem.setAttribute("frameBorder", "0"), l;
        },
        wrap: function wrap() {
          var n = new e.utils.DomElem("div", {
            css: {
              className: t("popup", "wrap"),
              props: {
                position: "fixed",
                "z-index": "32700",
                top: "50%",
                left: "50%",
                width: "670px",
                "margin-top": "-240px",
                "margin-left": "-400px",
                padding: "40px 65px",
                "text-align": "center",
                color: "#333",
                background: "#fff",
                "-webkit-box-shadow": "inset 0 0 0 1px rgba(0,0,0,.15),0 8px 30px -5px rgba(0,0,0,.5)",
                "-moz-box-shadow": "inset 1px 1px 10px #aaa",
                "box-shadow": "inset 0 0 0 1px rgba(0,0,0,.15),0 8px 30px -5px rgba(0,0,0,.5)"
              }
            }
          });
          return n.append(this.close()).append(this.iframe()), n;
        }
      },
      exclusive: {
        iframe: function iframe() {
          var n = e.options.metrikaId || e.metrikaIds.exclusive,
              r = e.getLinkParams(),
              o = e.popups.exclusive + e.exclusiveBrowser + "." + e.options.lang + ".html?metrikaId=" + n + (r && "&" + r),
              i = new e.utils.DomElem("iframe", {
            attrs: {
              name: t("popup", "iframe"),
              src: o,
              scrolling: "no"
            },
            css: {
              className: t("popup", "iframe"),
              props: {
                width: "100%",
                height: "100%",
                border: 0
              }
            }
          });
          return i.domElem.setAttribute("frameBorder", "0"), i;
        }
      }
    };

    return {
      stripe: function stripe() {
        var r = new e.utils.DomElem("div", {
          css: {
            className: t("stripe"),
            props: {
              position: "fixed",
              "z-index": "90000",
              left: "0",
              top: "0",
              width: "100%",
              font: "13px Arial, Helvetica, sans-serif",
              "line-height": "30px",
              "padding-left": "42px",
              background: e.colors.bg,
              overflow: "hidden"
            }
          }
        });
        return r.append(n.stripe.txt()).append(n.stripe.buttonWrap()), e.domElems.stripe = r, r;
      },
      generic: function generic() {
        var r = new e.utils.DomElem("div", {
          css: {
            className: t("stripe"),
            props: {
              position: "relative",
              padding: "40px 5%",
              width: "90%",
              overflow: "hidden",
              font: "13px Arial, Helvetica, sans-serif",
              "line-height": "30px",
              background: e.colors.bg
            }
          }
        });
        return r.append(n.generic.close()).append(n.generic.title()).append(n.generic.subtitle()).append(n.generic.desc()), e.domElems.stripe = r, r;
      },
      popup: function popup() {
        var r = new e.utils.DomElem("div", {
          css: {
            className: t("popup"),
            props: {
              display: "none"
            }
          }
        });
        return r.append(n.popup.paranja()).append(n.popup.wrap()), e.domElems.popup = r, r;
      },
      exclusive: function exclusive() {
        var r = new e.utils.DomElem("div", {
          css: {
            className: t("popup"),
            props: {
              display: "block",
              position: "fixed",
              top: "0",
              left: "0",
              width: "100%",
              height: "100%",
              background: "#fff",
              padding: "0"
            }
          }
        });
        return r.append(n.exclusive.iframe()), e.domElems.popup = r, r;
      },
      style: function style() {
        var t = e.style,
            n = new e.utils.DomElem("style", {
          type: "text/css"
        });

        try {
          n.domElem.appendChild(document.createTextNode(t));
        } catch (e) {
          n.domElem.setAttribute("type", "text/css"), n.domElem.styleSheet.cssText = t;
        }

        return n;
      },
      metrika: function metrika() {
        var t = new e.utils.DomElem("script", {
          attrs: {
            src: "https://mc.yandex.ru/metrika/watch.js",
            type: "text/javascript"
          }
        });
        return e.domElems.metrika = t, t;
      }
    };
  },
  metrikaInit: function metrikaInit() {
    var e = this,
        t = "yandex_metrika_callbacks",
        n = e.options.metrikaId || e.metrikaIds[e.type],
        r = "stripe" === e.type ? {
      theme: e.options.theme
    } : {};
    e.counter = "yaCounter" + n, (window[t] = window[t] || []).push(function () {
      try {
        window[e.counter] = new Ya.Metrika({
          id: n,
          clickmap: !0,
          trackLinks: !0,
          accurateTrackBounce: !0,
          webvisor: !0,
          trackHash: !0,
          params: r
        });
      } catch (e) {}
    });
  },
  reachGoal: function reachGoal(e) {
    var t = this;

    try {
      window[t.counter].reachGoal(e);
    } catch (e) {}
  },
  build: function build() {
    var e = this;
    e.buildElem = this.buildElem(), e.utils.onDOMContentLoaded(function () {
      var t, n;

      if ("exclusive" === e.type) {
        var r = e.buildElem.exclusive();
        document.body.appendChild(r.domElem), document.body.style.overflow = "hidden";
      } else "generic" === e.type ? (t = e.buildElem.generic(), document.body.insertBefore(t.domElem, document.body.firstChild), e.options.hybrid && (n = e.buildElem.popup(), document.body.appendChild(n.domElem)), e.onStripeShowCallback()) : (t = e.buildElem.stripe(), n = e.buildElem.popup(), e.bodyPaddingAdjust(30), document.body.insertBefore(t.domElem, document.body.firstChild), document.body.appendChild(n.domElem), e.onStripeShowCallback());

      var o = e.buildElem.metrika();
      document.body.appendChild(o.domElem), e.metrikaInit();
    });
  },
  bodyPaddingAdjust: function bodyPaddingAdjust(e) {
    var t = this.utils.DomElem.prototype.getStyle(document.body, "padding-top");
    this.bodyPadding = parseInt(t, 10), document.body.style.paddingTop = this.bodyPadding + e + "px";
  },
  popupShow: function popupShow() {
    this.isPopupShown || (this.domElems.popup.domElem.style.display = "block", this.isPopupShown = !0, this.removestripe());
  },
  popupRemove: function popupRemove() {
    document.body.removeChild(this.domElems.popup.domElem);
  },
  removestripe: function removestripe() {
    document.body.removeChild(this.domElems.stripe.domElem);

    try {
      document.body.style.paddingTop = this.bodyPadding + "px";
    } catch (e) {}

    this.onStripeHideCallback();
  },
  onStripeShowCallback: function onStripeShowCallback() {
    var e = this.utils.validateCallback(this.options.onStripeShow);
    !1 !== e && e();
  },
  onStripeHideCallback: function onStripeHideCallback() {
    var e = this.utils.validateCallback(this.options.onStripeHide);
    !1 !== e && e();
  }
}, Ya.strip = Ya.stripe;
var ya = window.ya || {};
ya.browserUpdater = Ya.stripe;